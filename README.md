# Service-Usage-Management by Python
Service Usage Management and Fee Calculation for Online Platforms: A Customer Handling Solution
## Background:
Assume a company (e.g., a video streaming or online meeting service) provides services to customers and charges based on usage time, while also giving feedback if the customer's browser or account settings do not meet the requirements. The company’s service process is as follows:
- Customers use services based on their account and browser settings.
- If the customer's account or browser configuration does not meet the company’s requirements, the service will not be provided, and the customer will receive a message.
- If the customer’s service usage time exceeds a certain threshold (e.g., 30 minutes), additional charges are calculated and service time is formatted for clarity.
- If the customer encounters issues (e.g., buffering or errors), the system calculates the buffering time based on the number of errors and provides detailed feedback.
```python
"""Service-Usage-Management.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1g4x_9pk7MMlKDu3bNqUQ2lvVh0Pc8Yps

#Service-Usage-Management
"""

customers = [
    ["USER1", 437, "Google", "Google Chrome", 1, 0],
    ["USER2", 3789, "Microsoft", "Microsoft Edge", 1, 0],
    ["USER3", 4378, "Google", "Google Chrome", 2, -1],
    ["USER4", 1289, "Microsoft", "Microsoft Edge", 2, 352],
    ["USER5", 849, "Microsoft", "Microsoft Edge", 2, 4921],
    ["USER6", 732, "Google", "Mozilla Firefox", 2, -1],
    ["USER7", 3789, "Google", "Microsoft Edge", 2, 32],
    ["USER8", 4378, "Microsoft", "Google Chrome", 2, 10],
    ["USER9", 472, "Microsoft", "Mozilla Firefox", 2, 60],
    ["USER10", 5261, "Microsoft", "Google Chrome", 1, 421]
]

# Time Formatting Function
def format_time(time):
    hours = time // 3600
    minutes = (time % 3600) // 60
    remaining_time = time % 60
    return f"{hours} hrs, {minutes} min., {remaining_time} sec."

# Fee Calculation Function
def calculate_total(time):
    if time < 1800:
        total = 1000
    else:
        total = 1000 + ((time - 1800) // 600) * 300
    return total

# Buffering Time Calculation
def calculate_buffering_time(error_num):
    count = 0
    while error_num >= 1:
        error_num //= 2
        count += 1
    return count * 5  # 5x Output

# Availability Check Function
def check_availability(customer):
    user_name, _, account, browser, _, _ = customer

    if account == "Google":
        if browser == "Google Chrome":
            return "Available"
        else:
            print(f"{user_name}: Please use Google Chrome as browser")
            return "Not Available"

    elif account == "Microsoft":
        if browser in ["Google Chrome", "Mozilla Firefox"]:
            print(f"{user_name}: Please get the plugin for Skype.")
            return "Not Available"
        elif browser == "Microsoft Edge":
            return "Available"
        else:
            print(f"{user_name}: Please use Microsoft Edge as browser")
            return "Not Available"

    else:
        print(f"{user_name}: Please use Google or Microsoft as account")
        return "Not Available"

# Main Function: Process All Users
def process_customers(customers):
    for customer in customers:
        name, time, account, browser, question_num, error_num = customer

        if check_availability(customer) == "Available":

            if question_num == 1:
                formatted_time = format_time(time)
                total_yen = calculate_total(time)
                print(f"{name}: {formatted_time} Total is {total_yen} yen.")

            elif question_num == 2:
                if error_num == -1:
                    print(f"{name}: Contract overdue")
                elif error_num > 1:
                    buffering_time = calculate_buffering_time(error_num)
                    print(f"{name}: Buffering time last {buffering_time} min.")

# Execute Main Function
process_customers(customers)
```
## Scenario:
- Service Management System: The company needs to manage a large number of customer usage cases and ensure customers follow the service regulations (e.g., specific browsers and accounts). Additionally, it needs to calculate the charges based on customer usage time.
- Error Handling and Feedback: Customers might encounter issues during service usage (e.g., buffering or error codes). The system needs to calculate the buffering time based on the number of errors or provide notifications if contracts have expired.
- Fee Calculation: The company charges customers based on the service usage duration, with a specific billing model (e.g., free for the first 30 minutes, additional charges for each 10-minute interval after that). The system needs to accurately calculate the total fee and format the usage time.
## Problems Solved:
- Account and Browser Check: Customers might use unsupported browsers or accounts. This code checks the customer's account and browser configuration and provides feedback (e.g., "Please use Google Chrome" or "Please install the Skype plugin").
- Time and Fee Calculation: The system calculates the service fee based on the customer's usage time and formats the time into a readable format (e.g., hours, minutes, seconds).
- Buffering Time Handling: If customers experience errors, the system calculates the potential buffering time based on the number of errors and provides relevant feedback, helping the customer understand the issues they encountered.
- Contract Expiry Check: If the customer's contract has expired, the system gives a notification to prevent the service from continuing beyond the valid contract period.
## Practical Application Scenarios:
This code would be useful in the following scenarios:
- Video Streaming Platforms: For example, platforms like Netflix or Hulu, where the company needs to charge based on the customer's device and network conditions, and provide feedback if the user encounters issues (e.g., buffering or errors).
- Online Meeting Platforms: Such as Zoom or Microsoft Teams, where customers need to use specific browsers or plugins, and the system calculates charges based on usage time while checking for errors or expired contracts.
- Online Education Platforms: Similar to Udemy or Coursera, where the platform may charge based on a customer’s viewing time or provide learning progress reports, and checks if the customer’s device is suitable for viewing the course content.
## Conclusion:
This code addresses the needs of businesses when handling customer usage time, service configuration checks, error feedback, and fee calculation. It ensures that customers use compliant devices and provides accurate service fee calculations and issue handling based on their usage. This ultimately improves the overall customer service experience.

